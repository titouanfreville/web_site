a {
  min-height: 1px;
}
/* fonction d'animation, n'oubliez pas de prefixer ! */
@include keyframes(slider) {
    0%, 100%        { left: 0 }
    3%, 99%         { left: -100% }
    6%, 98%         { left: -200% }
    9%, 96%         { left: -300% }
    12%,94%         { left: -400% }
    15%,92%         { left: -500% }
    18%,90%         { left: -600% }
    21%,88%         { left: -700% }
    24%,86%         { left: -800% }
    27%,84%         { left: -900% }
    30%,82%         { left: -1000% }
    33%,80%         { left: -1100% }
    36%,78%         { left: -1200% }
    39%,76%         { left: -1300% }
    42%,74%         { left: -1400% }
    45%,72%         { left: -1500% }
    48%,69%         { left: -1600% }
    51%,66%         { left: -1700% }
    54%,64%         { left: -1800% }
    57%,62%         { left: -1900% }
    60%             { left: -2000% }
}
@include keyframes(translate){
  0%,5%    { left: 0 }
  81%,to      { left: -5000px; }
}
/* fonction d'animation, n'oubliez pas de prefixer ! */
@include keyframes(mslider) {
    0%,19%, 81%,100%      { left: 0 }
    21%, 39%, 61%, 79%    { left: -100% }
    41%, 59%              { left: -200% }
}

/* fonction d'animation sur les points */
@include keyframes(dotser) {
  0%, 100%  { opacity: 1; left: 5px;  }

  18%,81%     { opacity: 1; left: 5px;    }
  19%,80%     { opacity: 0; left: 5px;    }
  20%,79%     { opacity: 0; left: 23px; }
  21%,78%     { opacity: 1; left: 23px; }

  38%,61%    { opacity: 1; left: 23px; }
  39%,60%     { opacity: 0; left: 23px; }
  40%,59%     { opacity: 0; left: 41px; }
  41%,58%     { opacity: 1; left: 41px; }

}
/* Slider partenaires */
.slideshow {
  position: relative;
  width: 283px;
  height: 160px;
  margin: 5% auto 2em;

  img{
    width: 283px;
    height: 160px;
  }

  /* gestion des dimensions et débordement du conteneur */
  .container {
    position:relative;
    width: 283px;
    height: 160px;
    overflow: hidden;
  }

  /* on prévoit un petit espace gris pour la timeline */
  .container:after {
    position:absolute;
    bottom: 0; left:0;
    content: " ";
    width: 100%;
    height: 1px;
    background: #999;
  }
  /*
     le conteneur des slides
     en largeur il fait 100% x le nombre de slides
  */
  .slider {
    position: absolute;
    left:0; top:0;
    width: 2100%;
    height: 160px;
  }

  /* annulation des marges sur figure */
  figure {
    position:relative;
    display:inline-block;
    padding:0; margin:0;
    /* petit effet de vignette sur les images */
   &:after {
      position: absolute;
      display:block;
      content: " ";
      top:0; left:0;
      width: 100%; height: 100%;
      box-shadow: 0 0 65px rgba(0,0,0, 0.5) inset;
    }
  }

  /* styles de nos légendes */
  figcaption {
    position:absolute;
    left:0; right:0; bottom: 5px;
    padding: 20px;
    margin:0;
    border-top: 1px solid rgb(225,225,225);
    text-align:center;
    letter-spacing: 0.05em;
    word-spacing: 0.05em;
    font-family: Georgia, Times, serif;
    background: #fff;
    background: rgba(255,255,255,0.7);
    color: #555;
    text-shadow: -1px -1px 0 rgba(255,255,255,0.3);
  }

  .play_commands {
    /* positionnement en haut à droite */
    position: absolute;
    top: 15px;
    right: 5px;
    z-index: 10;
    /* dimensionnement des icônes */
    width: 12px;
    height: 12px;
    text-indent: -9999px;
    border: 0 none;
    /* placez l'opacité à 1 si vous souhaitez voir les commandes */
    opacity: 0;
    /* préparation de transition sur opacicty et right */
    @include transition(opacity 1s, right 1s);
  }
  /* on décale play légèrement sur la gauche */
  .play {
    right: 55px;
    cursor: default;
  }

  /* création de l'icône pause avec 2 pseudos éléments */
  .pause:after,
  .pause:before {
    position: absolute;
    display: block;
    content: " ";
    top:0;
    width:38%;
    height: 12px;
    background: #884345;
    background: rgba(136,67,69,0.5);
  }
  .pause:after { right:0; }
  .pause:before { left:0; }

  /* création de l'icône play avec des bordures */
  .play {
    width: 1px;
    height: 1px;
    /* les transparentes forment la flèche */
    border-top: 5px solid transparent;
    border-bottom: 5px solid transparent;
    border-left: 10px solid #884345;
    border-left: 10px solid rgba(136,67,69,0.5);
    /* renseignez 1 pour voir l'icône de suite */
    opacity: 0;
  }

  /* stopper les animation */
  .pacommand:target ~ & .slider {
    @include animation-play-state(paused);
  }

  /* redémarrer les animations */
  #pa_play:target ~ & .slider {
      @include animation-play-state(running);
  }

  /* switch entre les boutons */
  .pacommand:target ~ & .pause         { opacity:0; }
  #pa_play:target ~ &:hover .pause,
  #pa_play:target ~ & .pause:focus   { opacity:1; }
  .pacommand:target ~ & .play          { opacity:1; right: 25px; cursor: pointer; }
  #pa_play:target ~ & .play          { opacity:0; right: 35px; cursor: default; }
  /* apparition du bouton pause au survole */
  /* apparition des boutons au focus */
  &:hover {
    .pause, .play_commands:focus {
      opacity: 1;
      outline: none;
    }
  }

  .animate {
   /* ... avec la propriété animation */
    @include animation(slider 96s infinite);
  }
}

/* Slider txt 
*/
.mslide {
  @include display-flex;
  @include flex-direction(column);
  position: relative;
  width: 425px;
  height: 300px;
  margin: 5% auto 2em;

  .play_commands {
    position: absolute;
    top: 15px;
    right: 5px;
    z-index: 10;
    /* dimensionnement des icônes */
    width: 12px;
    height: 12px;
    text-indent: -9999px;
    border: 0 none;
    opacity: 0;
    /* préparation de transition sur opacicty et right */
    @include transition(opacity 1s, right 1s);
  }
  .play {
    right: 55px;
    cursor: default;
  }

  .pause:after,
  .pause:before {
    position: absolute;
    display: block;
    content: " ";
    top:0;
    width:38%;
    height: 12px;
    background: #884345;
    background: rgba(136,67,69,0.5);
  }
  .pause:after { right:0; }
  .pause:before { left:0; }

  .play {
    width: 1px;
    height: 1px;
    border-top: 5px solid transparent;
    border-bottom: 5px solid transparent;
    border-left: 10px solid #884345;
    border-left: 10px solid rgba(136,67,69,0.5);
    opacity: 0;
  }

  /* apparition du bouton pause au survole */
  /* apparition des boutons au focus */
  &:hover {
    .pause, .play_commands:focus {
      opacity: 1;
      outline: none;
    }
  }

  /* dots styles */
  .dots_commands  {
    @include display-flex;
    @include justify-content(center);
    @include align-self(center);
    position: relative;
    width: 54px;
    top: 32px;
    padding:0;
    margin:0;
    text-align: center;

      li {
        @include display-flex;
        padding:0;
        margin:0;
        list-style:none;

        a {
          height:8px;
          width: 8px;
          margin: 0 5px;
          text-indent: -9999px;
          background: transparent;
          border-bottom:0;
          @include border-radius(50%);
          @include box-shadow(0 1px 2px rgba(0,0,0,0.55) inset);
          z-index:25;
        }
        &:first-child {
          a:after, a:before {
            position: absolute;
            top: 0;
            left: 0;
            content: " ";
            width: 8px;
            height: 8px;
            background: #bd9b83;
            z-index:20;
            @include border-radius(50%);
            @include box-shadow(0 1px 2px rgba(0,0,0,0.55) inset);
          }
        }

        &:first-child {
          a:after {
            @include animation(dotser 60s infinite);
          }
        }

        &:first-child {
          a:before {
            display:none;
          }
        }
      }

      li + li a {
        z-index:10;
      }

  }

  /*
     le conteneur des slides
     en largeur il fait 100% x le nombre de slides
  */
  
  .mslider {
    @include display-flex;
    @include flex-direction(row);
    @include justify-content(flex-start);
    position: absolute;
    left:0;
    top:0;
    min-width: 100%;
    width: 300%;
    height: 300px;
  }

  /* stopper les animation */
  .command:target ~ & .mslider,
  .command:target ~ & .dots_commands li:first-child a:after {
    @include animation-play-state(paused);
  }

  /* redémarrer les animations */
  #sl_play:target ~ & .b1,
  #sl_play:target ~ & .b2,
  #sl_play:target ~ & .b3,             { @include display-flex; }
  #sl_play:target ~ & .mslider,
  #sl_play:target ~ & .dots_commands li:first-child a:after {
      @include animation-play-state(running);
  }
  #sl_play:target ~ & .mslider {
    @include display-flex;
  }
  #sl_play:target ~ & .dslider {
    display: none;
  }

  /* switch entre les boutons */
  .command:target ~ & .pause         { opacity:0; }
  #sl_play:target ~ &:hover .pause,
  #sl_play:target ~ & .pause:focus   { opacity:1; }
  .command:target ~ & .play          { opacity:1; right: 25px; cursor: pointer; }
  #sl_play:target ~ & .play          { opacity:0; right: 35px; cursor: default; }

  /* Dots navigation */
  .i:target ~ & .bar .mslider { display: none;}
  .i:target ~ & .bar .dslider { @include display-flex; width: 100%; left : 0 !important;}
  .i:target ~ & .dots_commands li:first-child a:after   { display:none; }
  .i:target ~ & .dots_commands li:first-child a:before  { display:block; }

  #sl_i1:target ~ & .b1                                     { @include display-flex;}
  #sl_i1:target ~ & .b2                                     { display: none; }
  #sl_i1:target ~ & .b3                                     { display: none; }
  #sl_i1:target ~ & .dots_commands li:first-child a:before  { left:5px; }

  #sl_i2:target ~ & .b2                                     { @include display-flex;}
  #sl_i2:target ~ & .b1                                     { display: none; }
  #sl_i2:target ~ & .b3                                     { display: none; }
  #sl_i2:target ~ & .dots_commands li:first-child a:before  { left:23px; }
  #sl_i2:target ~ & .dots_commands li:first-child a:after   { left:23px; }

  #sl_i3:target ~ & .b3                                     { @include display-flex;}
  #sl_i3:target ~ & .b2                                     { display: none; }
  #sl_i3:target ~ & .b1                                     { display: none; }
  #sl_i3:target ~ & .dots_commands li:first-child a:before  { left:41px; }

  /* gestion des dimensions et débordement du conteneur */
  .bar {
    position:relative;
    width: 425px;
    height: 300px;
    overflow: hidden;
  }

  .animate {
    @include animation(mslider 60s infinite);
  }
}
.command {
  display: none;
}

.pacommand {
  display: none;
}

.rideau {
  @include animation(translate 20s 1 forwards);
  position: fixed;
  top: 180px;
  z-index: 500;
  width: calc(100% + 500px);
  height: calc(100% - 180px);
  background: url(../images/opening_rideau.png) no-repeat 0% 70%;
  background-size: cover;
}